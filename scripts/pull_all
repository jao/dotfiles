#!/bin/bash

# requires: style_functions

_pull_fetch () {
  local dir=`pwd`
  _style_title "Pulling ${dir#\/Users\/jao\/projects}"
  git fetch --all
  git pull --rebase
  echo;
}

_list_directories () {
for dir in `ls`; do
  if [ -d $dir ]; then
    if [ -d $dir/.git ]; then
      cd $dir
      _pull_fetch $dir
      cd ..
    else
      cd $dir
      _list_directories
      cd ..
    fi
  fi
done
}

_list_directories
